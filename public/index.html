<!DOCTYPE html>
<html>

<head>
  <title>Avanza Node</title>
  <link id="theme-link" rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/colreorder/1.5.4/css/colReorder.dataTables.min.css">
  <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" charset="utf8"
    src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>
  <script type="text/javascript" charset="utf8"
    src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" charset="utf8"
    src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.colVis.min.js"></script>
  <script type="text/javascript" charset="utf8"
    src="https://cdn.datatables.net/colreorder/1.5.4/js/dataTables.colReorder.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<body class="container">
  <h1 class="my-4">Avanza Node</h1>
  <div class="dropdown mb-4">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="themeDropdown" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false">
      Select Theme
    </button>
    <div class="dropdown-menu" aria-labelledby="themeDropdown">
      <!-- ... (theme options) ... -->
    </div>
  </div>
  <button id="login" class="btn btn-primary">Login</button>
  <button id="get-positions" class="btn btn-secondary" disabled>Get Positions</button>
  <div style="overflow-x: auto;">
    <table id="positions" class="display table table-striped mt-4">
      <thead>
        <tr>
          <th>Account Name</th>
          <th>Account Type</th>
          <th>Depositable</th>
          <th>Account ID</th>
          <th>Volume</th>
          <th>Profit</th>
          <th>Profit Percent</th>
          <th>Average Acquired Price</th>
          <th>Acquired Value</th>
          <th>Value</th>
          <th>Currency</th>
          <th>Orderbook ID</th>
          <th>Last Price</th>
          <th>Last Price Updated</th>
          <th>Change</th>
          <th>Change Percent</th>
          <th>Tradable</th>
          <th>Name</th>
          <th>Timestamp</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
  <script src="app.js"></script>
  <script>
    $(document).ready(function () {
      var table = $('#positions').DataTable({
        dom: 'Bfrtip',
        buttons: [
          'colvis'
        ],
        colReorder: true,
        stateSave: true,
        columns: [
          { data: 'accountName' },
          { data: 'accountType' },
          { data: 'depositable' },
          { data: 'accountId' },
          { data: 'volume' },
          { data: 'profit' },
          { data: 'profitPercent' },
          { data: 'averageAcquiredPrice' },
          { data: 'acquiredValue' },
          { data: 'value' },
          { data: 'currency' },
          { data: 'orderbookId' },
          { data: 'lastPrice' },
          { data: 'lastPriceUpdated' },
          { data: 'change' },
          { data: 'changePercent' },
          { data: 'tradable' },
          { data: 'name' },
          { data: 'timestamp' }
        ]
      });
    }); // ... (rest of the jQuery code for theme selection) ...                                                                                                                       
    $(document).ready(function () {
      var table = $('#positions').DataTable({
        dom: 'Bfrtip',
        buttons: [
          'colvis'
        ],
        colReorder: true,
        stateSave: true
      });

      var theme = localStorage.getItem('theme');
      if (theme) {
        $('#theme-link').attr('href', 'https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/' + theme + '/bootstrap.min.css');
      }

      $('.dropdown-item').click(function () {
        theme = $(this).data('theme');
        $('#theme-link').attr('href', 'https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/' + theme + '/bootstrap.min.css');
        localStorage.setItem('theme', theme);
      });
    });                                                                                                                                                                                            
  </script>
</body>

</html>